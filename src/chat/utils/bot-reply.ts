// utils/generateBotReply.ts

export function generateBotReply(text: string): string {
  const lower = text.toLowerCase().trim();

  const responses = [
    {
      keywords: ['ფასი', 'ღირებულება', 'რამდენი ღირს'],
      reply: 'ჩვენი პროცედურების ფასები იწყება 50 ლარიდან. დეტალებისთვის ეწვიეთ ფასების გვერდს.'
    },
    {
      keywords: ['როდის', 'გრაფიკი', 'საათები', 'სამუშაო დრო'],
      reply: 'ჩვენი კლინიკა მუშაობს ყოველდღე, 10:00–18:00. ჩაწერა აუცილებელია წინასწარ.'
    },
    {
      keywords: ['მდებარეობა', 'სად მდებარეობს', 'მისამართი'],
      reply: 'ჩვენ ვიმყოფებით თბილისში, პუშკინის ქუჩაზე. დამატებითი ინფორმაციისთვის იხილეთ კონტაქტი.'
    },
    {
      keywords: ['დამირეკეთ', 'დამიკავშირდით', 'მინდა კონსულტაცია'],
      reply: 'გთხოვთ, მოგვაწოდეთ თქვენი ნომერი და ოპერატორი მალე დაგიკავშირდებათ.'
    },
    {
      keywords: ['გადახდა', 'როგორ გადავიხადო', 'ბარათი'],
      reply: 'გადახდა შესაძლებელია როგორც ნაღდი ანგარიშით, ასევე ბარათით.'
    },
  ];

  for (const rule of responses) {
    if (rule.keywords.some(kw => lower.includes(kw))) {
      return rule.reply;
    }
  }

  // Default fallback
  return 'მადლობა შეკითხვისთვის! ჩვენი ოპერატორი მალე დაგიკავშირდებათ.';
}
